{"ast":null,"code":"import _objectSpread from\"C:/XMLFinalClient/ecommerce-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{createSlice,createAsyncThunk}from'@reduxjs/toolkit';import{getAllProducts,getProductById,addProduct,updateProduct,deleteProduct}from'../api/products';// Ba�lang�� durumu\nconst initialState={products:[],selectedProduct:null,isLoading:false,error:null};// Async thunks\nexport const fetchProducts=createAsyncThunk('products/fetchProducts',async(_,_ref)=>{let{rejectWithValue}=_ref;try{return await getAllProducts();}catch(error){var _error$response,_error$response$data;return rejectWithValue(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'�r�nler y�klenemedi');}});export const fetchProductById=createAsyncThunk('products/fetchProductById',async(id,_ref2)=>{let{rejectWithValue}=_ref2;try{return await getProductById(id);}catch(error){var _error$response2,_error$response2$data;return rejectWithValue(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message)||'�r�n y�klenemedi');}});export const createProduct=createAsyncThunk('products/createProduct',async(product,_ref3)=>{let{rejectWithValue}=_ref3;try{return await addProduct(product);}catch(error){var _error$response3,_error$response3$data;return rejectWithValue(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.message)||'�r�n eklenemedi');}});export const editProduct=createAsyncThunk('products/editProduct',async(_ref4,_ref5)=>{let{id,product}=_ref4;let{rejectWithValue}=_ref5;try{await updateProduct(id,product);return _objectSpread({id},product);}catch(error){var _error$response4,_error$response4$data;return rejectWithValue(((_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.message)||'�r�n g�ncellenemedi');}});export const removeProduct=createAsyncThunk('products/removeProduct',async(id,_ref6)=>{let{rejectWithValue}=_ref6;try{await deleteProduct(id);return id;}catch(error){var _error$response5,_error$response5$data;return rejectWithValue(((_error$response5=error.response)===null||_error$response5===void 0?void 0:(_error$response5$data=_error$response5.data)===null||_error$response5$data===void 0?void 0:_error$response5$data.message)||'�r�n silinemedi');}});// Product slice\nconst productSlice=createSlice({name:'products',initialState,reducers:{},extraReducers:builder=>{builder// Fetch all products\n.addCase(fetchProducts.pending,state=>{state.isLoading=true;state.error=null;}).addCase(fetchProducts.fulfilled,(state,action)=>{state.isLoading=false;state.products=action.payload;}).addCase(fetchProducts.rejected,(state,action)=>{state.isLoading=false;state.error=action.payload;})// Fetch product by ID\n.addCase(fetchProductById.pending,state=>{state.isLoading=true;state.error=null;}).addCase(fetchProductById.fulfilled,(state,action)=>{state.isLoading=false;state.selectedProduct=action.payload;}).addCase(fetchProductById.rejected,(state,action)=>{state.isLoading=false;state.error=action.payload;})// Create product\n.addCase(createProduct.pending,state=>{state.isLoading=true;state.error=null;}).addCase(createProduct.fulfilled,(state,action)=>{state.isLoading=false;state.products.push(action.payload);}).addCase(createProduct.rejected,(state,action)=>{state.isLoading=false;state.error=action.payload;})// Edit product\n.addCase(editProduct.pending,state=>{state.isLoading=true;state.error=null;}).addCase(editProduct.fulfilled,(state,action)=>{state.isLoading=false;const index=state.products.findIndex(p=>p.id===action.payload.id);if(index!==-1){state.products[index]=action.payload;}}).addCase(editProduct.rejected,(state,action)=>{state.isLoading=false;state.error=action.payload;})// Delete product\n.addCase(removeProduct.pending,state=>{state.isLoading=true;state.error=null;}).addCase(removeProduct.fulfilled,(state,action)=>{state.isLoading=false;state.products=state.products.filter(p=>p.id!==action.payload);}).addCase(removeProduct.rejected,(state,action)=>{state.isLoading=false;state.error=action.payload;});}});export default productSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","getAllProducts","getProductById","addProduct","updateProduct","deleteProduct","initialState","products","selectedProduct","isLoading","error","fetchProducts","_","_ref","rejectWithValue","_error$response","_error$response$data","response","data","message","fetchProductById","id","_ref2","_error$response2","_error$response2$data","createProduct","product","_ref3","_error$response3","_error$response3$data","editProduct","_ref4","_ref5","_objectSpread","_error$response4","_error$response4$data","removeProduct","_ref6","_error$response5","_error$response5$data","productSlice","name","reducers","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","rejected","push","index","findIndex","p","filter","reducer"],"sources":["C:/XMLFinalClient/ecommerce-frontend/src/store/productSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport { getAllProducts, getProductById, addProduct, updateProduct, deleteProduct } from '../api/products';\n\n// Ba�lang�� durumu\nconst initialState = {\n    products: [],\n    selectedProduct: null,\n    isLoading: false,\n    error: null,\n};\n\n// Async thunks\nexport const fetchProducts = createAsyncThunk(\n    'products/fetchProducts',\n    async (_, { rejectWithValue }) => {\n        try {\n            return await getAllProducts();\n        } catch (error) {\n            return rejectWithValue(error.response?.data?.message || '�r�nler y�klenemedi');\n        }\n    }\n);\n\nexport const fetchProductById = createAsyncThunk(\n    'products/fetchProductById',\n    async (id, { rejectWithValue }) => {\n        try {\n            return await getProductById(id);\n        } catch (error) {\n            return rejectWithValue(error.response?.data?.message || '�r�n y�klenemedi');\n        }\n    }\n);\n\nexport const createProduct = createAsyncThunk(\n    'products/createProduct',\n    async (product, { rejectWithValue }) => {\n        try {\n            return await addProduct(product);\n        } catch (error) {\n            return rejectWithValue(error.response?.data?.message || '�r�n eklenemedi');\n        }\n    }\n);\n\nexport const editProduct = createAsyncThunk(\n    'products/editProduct',\n    async ({ id, product }, { rejectWithValue }) => {\n        try {\n            await updateProduct(id, product);\n            return { id, ...product };\n        } catch (error) {\n            return rejectWithValue(error.response?.data?.message || '�r�n g�ncellenemedi');\n        }\n    }\n);\n\nexport const removeProduct = createAsyncThunk(\n    'products/removeProduct',\n    async (id, { rejectWithValue }) => {\n        try {\n            await deleteProduct(id);\n            return id;\n        } catch (error) {\n            return rejectWithValue(error.response?.data?.message || '�r�n silinemedi');\n        }\n    }\n);\n\n// Product slice\nconst productSlice = createSlice({\n    name: 'products',\n    initialState,\n    reducers: {},\n    extraReducers: (builder) => {\n        builder\n            // Fetch all products\n            .addCase(fetchProducts.pending, (state) => {\n                state.isLoading = true;\n                state.error = null;\n            })\n            .addCase(fetchProducts.fulfilled, (state, action) => {\n                state.isLoading = false;\n                state.products = action.payload;\n            })\n            .addCase(fetchProducts.rejected, (state, action) => {\n                state.isLoading = false;\n                state.error = action.payload;\n            })\n\n            // Fetch product by ID\n            .addCase(fetchProductById.pending, (state) => {\n                state.isLoading = true;\n                state.error = null;\n            })\n            .addCase(fetchProductById.fulfilled, (state, action) => {\n                state.isLoading = false;\n                state.selectedProduct = action.payload;\n            })\n            .addCase(fetchProductById.rejected, (state, action) => {\n                state.isLoading = false;\n                state.error = action.payload;\n            })\n\n            // Create product\n            .addCase(createProduct.pending, (state) => {\n                state.isLoading = true;\n                state.error = null;\n            })\n            .addCase(createProduct.fulfilled, (state, action) => {\n                state.isLoading = false;\n                state.products.push(action.payload);\n            })\n            .addCase(createProduct.rejected, (state, action) => {\n                state.isLoading = false;\n                state.error = action.payload;\n            })\n\n            // Edit product\n            .addCase(editProduct.pending, (state) => {\n                state.isLoading = true;\n                state.error = null;\n            })\n            .addCase(editProduct.fulfilled, (state, action) => {\n                state.isLoading = false;\n                const index = state.products.findIndex((p) => p.id === action.payload.id);\n                if (index !== -1) {\n                    state.products[index] = action.payload;\n                }\n            })\n            .addCase(editProduct.rejected, (state, action) => {\n                state.isLoading = false;\n                state.error = action.payload;\n            })\n\n            // Delete product\n            .addCase(removeProduct.pending, (state) => {\n                state.isLoading = true;\n                state.error = null;\n            })\n            .addCase(removeProduct.fulfilled, (state, action) => {\n                state.isLoading = false;\n                state.products = state.products.filter((p) => p.id !== action.payload);\n            })\n            .addCase(removeProduct.rejected, (state, action) => {\n                state.isLoading = false;\n                state.error = action.payload;\n            });\n    },\n});\n\nexport default productSlice.reducer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}