{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{login}from'../../store/authSlice';import{useNavigate,Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Login=()=>{const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[formError,setFormError]=useState('');const dispatch=useDispatch();const navigate=useNavigate();const{isLoading,error,user}=useSelector(state=>state.auth);// Kullan�c� zaten giri� yapm��sa ana sayfaya y�nlendir\nuseEffect(()=>{if(user){navigate('/');}},[user,navigate]);const validateForm=()=>{setFormError('');if(!username.trim()){setFormError('Kullan�c� ad� bo� olamaz');return false;}if(!password){setFormError('�ifre bo� olamaz');return false;}return true;};const handleSubmit=async e=>{e.preventDefault();if(!validateForm()){return;}try{await dispatch(login({username,password})).unwrap();// Ba�ar�l� giri� sonras� ana sayfaya y�nlendir\nnavigate('/');}catch(err){// Error is handled by the reducer\nconsole.error('Giri� hatas�:',err);}};return/*#__PURE__*/_jsx(\"div\",{className:\"container mt-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header bg-primary text-white\",children:/*#__PURE__*/_jsx(\"h4\",{className:\"mb-0\",children:\"Giri\\uFFFD Yap\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[(error||formError)&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:formError||error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",className:\"form-label\",children:\"Kullan\\uFFFDc\\uFFFD Ad\\uFFFD\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"username\",value:username,onChange:e=>setUsername(e.target.value),placeholder:\"Kullan\\uFFFDc\\uFFFD ad\\uFFFDn\\uFFFDz\\uFFFD girin\",required:true,autoFocus:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"form-label\",children:\"\\uFFFDifre\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"password\",value:password,onChange:e=>setPassword(e.target.value),placeholder:\"\\uFFFDifrenizi girin\",required:true})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-grid\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",disabled:isLoading,children:isLoading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"spinner-border spinner-border-sm me-2\",role:\"status\",\"aria-hidden\":\"true\"}),\"Giri\\uFFFD Yap\\uFFFDl\\uFFFDyor...\"]}):'Giri� Yap'})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 text-center\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Hesab\\uFFFDn\\uFFFDz yok mu? \",/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"text-decoration-none\",children:\"Kaydolun\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted small\",children:\"Test Hesab\\uFFFD: admin / password123\"})]})]})]})})})});};export default Login;","map":{"version":3,"names":["React","useState","useEffect","useDispatch","useSelector","login","useNavigate","Link","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Login","username","setUsername","password","setPassword","formError","setFormError","dispatch","navigate","isLoading","error","user","state","auth","validateForm","trim","handleSubmit","e","preventDefault","unwrap","err","console","className","children","onSubmit","htmlFor","type","id","value","onChange","target","placeholder","required","autoFocus","disabled","role","to"],"sources":["C:/XMLFinalClient/ecommerce-frontend/src/components/Auth/Login.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { login } from '../../store/authSlice';\nimport { useNavigate, Link } from 'react-router-dom';\n\nconst Login = () => {\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n    const [formError, setFormError] = useState('');\n    const dispatch = useDispatch();\n    const navigate = useNavigate();\n    const { isLoading, error, user } = useSelector((state) => state.auth);\n\n    // Kullan�c� zaten giri� yapm��sa ana sayfaya y�nlendir\n    useEffect(() => {\n        if (user) {\n            navigate('/');\n        }\n    }, [user, navigate]);\n\n    const validateForm = () => {\n        setFormError('');\n\n        if (!username.trim()) {\n            setFormError('Kullan�c� ad� bo� olamaz');\n            return false;\n        }\n\n        if (!password) {\n            setFormError('�ifre bo� olamaz');\n            return false;\n        }\n\n        return true;\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n\n        if (!validateForm()) {\n            return;\n        }\n\n        try {\n            await dispatch(login({ username, password })).unwrap();\n            // Ba�ar�l� giri� sonras� ana sayfaya y�nlendir\n            navigate('/');\n        } catch (err) {\n            // Error is handled by the reducer\n            console.error('Giri� hatas�:', err);\n        }\n    };\n\n    return (\n        <div className=\"container mt-5\">\n            <div className=\"row justify-content-center\">\n                <div className=\"col-md-6\">\n                    <div className=\"card shadow\">\n                        <div className=\"card-header bg-primary text-white\">\n                            <h4 className=\"mb-0\">Giri� Yap</h4>\n                        </div>\n                        <div className=\"card-body\">\n                            {(error || formError) && (\n                                <div className=\"alert alert-danger\">\n                                    {formError || error}\n                                </div>\n                            )}\n                            <form onSubmit={handleSubmit}>\n                                <div className=\"mb-3\">\n                                    <label htmlFor=\"username\" className=\"form-label\">\n                                        Kullan�c� Ad�\n                                    </label>\n                                    <input\n                                        type=\"text\"\n                                        className=\"form-control\"\n                                        id=\"username\"\n                                        value={username}\n                                        onChange={(e) => setUsername(e.target.value)}\n                                        placeholder=\"Kullan�c� ad�n�z� girin\"\n                                        required\n                                        autoFocus\n                                    />\n                                </div>\n                                <div className=\"mb-3\">\n                                    <label htmlFor=\"password\" className=\"form-label\">\n                                        �ifre\n                                    </label>\n                                    <input\n                                        type=\"password\"\n                                        className=\"form-control\"\n                                        id=\"password\"\n                                        value={password}\n                                        onChange={(e) => setPassword(e.target.value)}\n                                        placeholder=\"�ifrenizi girin\"\n                                        required\n                                    />\n                                </div>\n                                <div className=\"d-grid\">\n                                    <button\n                                        type=\"submit\"\n                                        className=\"btn btn-primary\"\n                                        disabled={isLoading}\n                                    >\n                                        {isLoading ? (\n                                            <>\n                                                <span className=\"spinner-border spinner-border-sm me-2\" role=\"status\" aria-hidden=\"true\"></span>\n                                                Giri� Yap�l�yor...\n                                            </>\n                                        ) : (\n                                            'Giri� Yap'\n                                        )}\n                                    </button>\n                                </div>\n                            </form>\n                            <div className=\"mt-3 text-center\">\n                                <p>Hesab�n�z yok mu? <Link to=\"/register\" className=\"text-decoration-none\">Kaydolun</Link></p>\n                                <p className=\"text-muted small\">\n                                    Test Hesab�: admin / password123\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}