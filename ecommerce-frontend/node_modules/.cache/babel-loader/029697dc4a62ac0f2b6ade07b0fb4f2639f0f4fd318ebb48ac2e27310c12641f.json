{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport { getAllProducts, getProductById, addProduct, updateProduct, deleteProduct } from '../api/products';\n\n// BaSlangic durumu\nconst initialState = {\n  products: [],\n  selectedProduct: null,\n  isLoading: false,\n  error: null\n};\n\n// Async thunks\nexport const fetchProducts = createAsyncThunk('products/fetchProducts', async (_, {\n  rejectWithValue\n}) => {\n  try {\n    return await getAllProducts();\n  } catch (error) {\n    var _error$response, _error$response$data;\n    return rejectWithValue(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Urunler yUklenemedi');\n  }\n});\nexport const fetchProductById = createAsyncThunk('products/fetchProductById', async (id, {\n  rejectWithValue\n}) => {\n  try {\n    return await getProductById(id);\n  } catch (error) {\n    var _error$response2, _error$response2$data;\n    return rejectWithValue(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || 'UrUn yUklenemedi');\n  }\n});\nexport const createProduct = createAsyncThunk('products/createProduct', async (product, {\n  rejectWithValue\n}) => {\n  try {\n    return await addProduct(product);\n  } catch (error) {\n    var _error$response3, _error$response3$data;\n    return rejectWithValue(((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.message) || 'UrUn eklenemedi');\n  }\n});\nexport const editProduct = createAsyncThunk('products/editProduct', async ({\n  id,\n  product\n}, {\n  rejectWithValue,\n  getState\n}) => {\n  try {\n    const response = await updateProduct(id, product);\n\n    // API'den dönen yanıtı kullan veya mevcut product verisi ile birleştir\n    return {\n      id,\n      ...product,\n      ...response\n    };\n  } catch (error) {\n    var _error$response4, _error$response4$data;\n    console.error('Ürün güncelleme hatası:', error);\n    return rejectWithValue(((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.message) || 'Ürün güncellenemedi');\n  }\n});\nexport const removeProduct = createAsyncThunk('products/removeProduct', async (id, {\n  rejectWithValue\n}) => {\n  try {\n    await deleteProduct(id);\n    return id;\n  } catch (error) {\n    var _error$response5, _error$response5$data;\n    return rejectWithValue(((_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : (_error$response5$data = _error$response5.data) === null || _error$response5$data === void 0 ? void 0 : _error$response5$data.message) || 'UrUn silinemedi');\n  }\n});\n\n// Product slice\nconst productSlice = createSlice({\n  name: 'products',\n  initialState,\n  reducers: {},\n  extraReducers: builder => {\n    builder\n    // Fetch all products\n    .addCase(fetchProducts.pending, state => {\n      state.isLoading = true;\n      state.error = null;\n    }).addCase(fetchProducts.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.products = action.payload;\n    }).addCase(fetchProducts.rejected, (state, action) => {\n      state.isLoading = false;\n      state.error = action.payload;\n    })\n\n    // Fetch product by ID\n    .addCase(fetchProductById.pending, state => {\n      state.isLoading = true;\n      state.error = null;\n    }).addCase(fetchProductById.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.selectedProduct = action.payload;\n    }).addCase(fetchProductById.rejected, (state, action) => {\n      state.isLoading = false;\n      state.error = action.payload;\n    })\n\n    // Create product\n    .addCase(createProduct.pending, state => {\n      state.isLoading = true;\n      state.error = null;\n    }).addCase(createProduct.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.products.push(action.payload);\n    }).addCase(createProduct.rejected, (state, action) => {\n      state.isLoading = false;\n      state.error = action.payload;\n    })\n\n    // Edit product\n    .addCase(editProduct.pending, state => {\n      state.isLoading = true;\n      state.error = null;\n    }).addCase(editProduct.fulfilled, (state, action) => {\n      state.isLoading = false;\n      const index = state.products.findIndex(p => p.id === action.payload.id);\n      if (index !== -1) {\n        state.products[index] = action.payload;\n      }\n    }).addCase(editProduct.rejected, (state, action) => {\n      state.isLoading = false;\n      state.error = action.payload;\n    })\n\n    // Delete product\n    .addCase(removeProduct.pending, state => {\n      state.isLoading = true;\n      state.error = null;\n    }).addCase(removeProduct.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.products = state.products.filter(p => p.id !== action.payload);\n    }).addCase(removeProduct.rejected, (state, action) => {\n      state.isLoading = false;\n      state.error = action.payload;\n    });\n  }\n});\nexport default productSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","getAllProducts","getProductById","addProduct","updateProduct","deleteProduct","initialState","products","selectedProduct","isLoading","error","fetchProducts","_","rejectWithValue","_error$response","_error$response$data","response","data","message","fetchProductById","id","_error$response2","_error$response2$data","createProduct","product","_error$response3","_error$response3$data","editProduct","getState","_error$response4","_error$response4$data","console","removeProduct","_error$response5","_error$response5$data","productSlice","name","reducers","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","rejected","push","index","findIndex","p","filter","reducer"],"sources":["C:/XMLFinalClient/ecommerce-frontend/src/store/productSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport { getAllProducts, getProductById, addProduct, updateProduct, deleteProduct } from '../api/products';\n\n// BaSlangic durumu\nconst initialState = {\n    products: [],\n    selectedProduct: null,\n    isLoading: false,\n    error: null,\n};\n\n// Async thunks\nexport const fetchProducts = createAsyncThunk(\n    'products/fetchProducts',\n    async (_, { rejectWithValue }) => {\n        try {\n            return await getAllProducts();\n        } catch (error) {\n            return rejectWithValue(error.response?.data?.message || 'Urunler yUklenemedi');\n        }\n    }\n);\n\nexport const fetchProductById = createAsyncThunk(\n    'products/fetchProductById',\n    async (id, { rejectWithValue }) => {\n        try {\n            return await getProductById(id);\n        } catch (error) {\n            return rejectWithValue(error.response?.data?.message || 'UrUn yUklenemedi');\n        }\n    }\n);\n\nexport const createProduct = createAsyncThunk(\n    'products/createProduct',\n    async (product, { rejectWithValue }) => {\n        try {\n            return await addProduct(product);\n        } catch (error) {\n            return rejectWithValue(error.response?.data?.message || 'UrUn eklenemedi');\n        }\n    }\n);\n\nexport const editProduct = createAsyncThunk(\n    'products/editProduct',\n    async ({ id, product }, { rejectWithValue, getState }) => {\n        try {\n            const response = await updateProduct(id, product);\n            \n            // API'den dönen yanıtı kullan veya mevcut product verisi ile birleştir\n            return { id, ...product, ...response };\n        } catch (error) {\n            console.error('Ürün güncelleme hatası:', error);\n            return rejectWithValue(error.response?.data?.message || 'Ürün güncellenemedi');\n        }\n    }\n);\n\nexport const removeProduct = createAsyncThunk(\n    'products/removeProduct',\n    async (id, { rejectWithValue }) => {\n        try {\n            await deleteProduct(id);\n            return id;\n        } catch (error) {\n            return rejectWithValue(error.response?.data?.message || 'UrUn silinemedi');\n        }\n    }\n);\n\n// Product slice\nconst productSlice = createSlice({\n    name: 'products',\n    initialState,\n    reducers: {},\n    extraReducers: (builder) => {\n        builder\n            // Fetch all products\n            .addCase(fetchProducts.pending, (state) => {\n                state.isLoading = true;\n                state.error = null;\n            })\n            .addCase(fetchProducts.fulfilled, (state, action) => {\n                state.isLoading = false;\n                state.products = action.payload;\n            })\n            .addCase(fetchProducts.rejected, (state, action) => {\n                state.isLoading = false;\n                state.error = action.payload;\n            })\n\n            // Fetch product by ID\n            .addCase(fetchProductById.pending, (state) => {\n                state.isLoading = true;\n                state.error = null;\n            })\n            .addCase(fetchProductById.fulfilled, (state, action) => {\n                state.isLoading = false;\n                state.selectedProduct = action.payload;\n            })\n            .addCase(fetchProductById.rejected, (state, action) => {\n                state.isLoading = false;\n                state.error = action.payload;\n            })\n\n            // Create product\n            .addCase(createProduct.pending, (state) => {\n                state.isLoading = true;\n                state.error = null;\n            })\n            .addCase(createProduct.fulfilled, (state, action) => {\n                state.isLoading = false;\n                state.products.push(action.payload);\n            })\n            .addCase(createProduct.rejected, (state, action) => {\n                state.isLoading = false;\n                state.error = action.payload;\n            })\n\n            // Edit product\n            .addCase(editProduct.pending, (state) => {\n                state.isLoading = true;\n                state.error = null;\n            })\n            .addCase(editProduct.fulfilled, (state, action) => {\n                state.isLoading = false;\n                const index = state.products.findIndex((p) => p.id === action.payload.id);\n                if (index !== -1) {\n                    state.products[index] = action.payload;\n                }\n            })\n            .addCase(editProduct.rejected, (state, action) => {\n                state.isLoading = false;\n                state.error = action.payload;\n            })\n\n            // Delete product\n            .addCase(removeProduct.pending, (state) => {\n                state.isLoading = true;\n                state.error = null;\n            })\n            .addCase(removeProduct.fulfilled, (state, action) => {\n                state.isLoading = false;\n                state.products = state.products.filter((p) => p.id !== action.payload);\n            })\n            .addCase(removeProduct.rejected, (state, action) => {\n                state.isLoading = false;\n                state.error = action.payload;\n            });\n    },\n});\n\nexport default productSlice.reducer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}