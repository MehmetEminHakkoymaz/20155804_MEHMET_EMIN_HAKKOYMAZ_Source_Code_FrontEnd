{"ast":null,"code":"var _jsxFileName = \"C:\\\\XMLFinalClient\\\\ecommerce-frontend\\\\src\\\\components\\\\Products\\\\ProductDetail.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { fetchProductById, removeProduct } from '../../store/productSlice';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ProductDetail = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const {\n    selectedProduct,\n    isLoading,\n    error\n  } = useSelector(state => state.products);\n  const {\n    user\n  } = useSelector(state => state.auth);\n  const isAdmin = user && user.role === 'Admin';\n  useEffect(() => {\n    dispatch(fetchProductById(id));\n  }, [dispatch, id]);\n  const handleEdit = () => {\n    navigate(`/admin/products/edit/${id}`);\n  };\n  const handleDelete = async () => {\n    if (window.confirm('Bu �r�n� silmek istedi�inizden emin misiniz?')) {\n      try {\n        await dispatch(removeProduct(id)).unwrap();\n        navigate('/products');\n      } catch (err) {\n        // Error is handled by the reducer\n      }\n    }\n  };\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center my-5\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner-border\",\n        role: \"status\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"visually-hidden\",\n          children: \"Y\\uFFFDkleniyor...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-danger\",\n      role: \"alert\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this);\n  }\n  if (!selectedProduct) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container my-5\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-warning\",\n        role: \"alert\",\n        children: \"\\uFFFDr\\uFFFDn bulunamad\\uFFFD!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container my-5\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-6\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: `http://localhost:5000${selectedProduct.imageUrl}`,\n          className: \"img-fluid rounded\",\n          alt: selectedProduct.name,\n          onError: e => {\n            e.target.onerror = null;\n            e.target.src = 'https://via.placeholder.com/600x400?text=�r�n+Resmi';\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: selectedProduct.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-muted\",\n          children: [\"Kategori ID: \", selectedProduct.categoryId]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"fs-3 text-primary fw-bold\",\n          children: [selectedProduct.price.toFixed(2), \" TL\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"my-4\",\n          children: selectedProduct.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Stok Durumu:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 25\n          }, this), \" \", selectedProduct.stockQuantity > 0 ? `${selectedProduct.stockQuantity} adet` : 'Stokta yok']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this), selectedProduct.stockQuantity > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-success btn-lg me-2\",\n          children: \"Sepete Ekle\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 25\n        }, this), isAdmin && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-warning me-2\",\n            onClick: handleEdit,\n            children: \"D\\uFFFDzenle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-danger\",\n            onClick: handleDelete,\n            children: \"Sil\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 9\n  }, this);\n};\n_s(ProductDetail, \"UWhXsQeK3JAoJm7XcnZGAnr8H7M=\", false, function () {\n  return [useParams, useNavigate, useDispatch, useSelector, useSelector];\n});\n_c = ProductDetail;\nexport default ProductDetail;\nvar _c;\n$RefreshReg$(_c, \"ProductDetail\");","map":{"version":3,"names":["React","useEffect","useParams","useNavigate","useSelector","useDispatch","fetchProductById","removeProduct","jsxDEV","_jsxDEV","Fragment","_Fragment","ProductDetail","_s","id","navigate","dispatch","selectedProduct","isLoading","error","state","products","user","auth","isAdmin","role","handleEdit","handleDelete","window","confirm","unwrap","err","className","children","fileName","_jsxFileName","lineNumber","columnNumber","src","imageUrl","alt","name","onError","e","target","onerror","categoryId","price","toFixed","description","stockQuantity","onClick","_c","$RefreshReg$"],"sources":["C:/XMLFinalClient/ecommerce-frontend/src/components/Products/ProductDetail.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { fetchProductById, removeProduct } from '../../store/productSlice';\n\nconst ProductDetail = () => {\n    const { id } = useParams();\n    const navigate = useNavigate();\n    const dispatch = useDispatch();\n    const { selectedProduct, isLoading, error } = useSelector((state) => state.products);\n    const { user } = useSelector((state) => state.auth);\n\n    const isAdmin = user && user.role === 'Admin';\n\n    useEffect(() => {\n        dispatch(fetchProductById(id));\n    }, [dispatch, id]);\n\n    const handleEdit = () => {\n        navigate(`/admin/products/edit/${id}`);\n    };\n\n    const handleDelete = async () => {\n        if (window.confirm('Bu �r�n� silmek istedi�inizden emin misiniz?')) {\n            try {\n                await dispatch(removeProduct(id)).unwrap();\n                navigate('/products');\n            } catch (err) {\n                // Error is handled by the reducer\n            }\n        }\n    };\n\n    if (isLoading) {\n        return (\n            <div className=\"text-center my-5\">\n                <div className=\"spinner-border\" role=\"status\">\n                    <span className=\"visually-hidden\">Y�kleniyor...</span>\n                </div>\n            </div>\n        );\n    }\n\n    if (error) {\n        return (\n            <div className=\"alert alert-danger\" role=\"alert\">\n                {error}\n            </div>\n        );\n    }\n\n    if (!selectedProduct) {\n        return (\n            <div className=\"container my-5\">\n                <div className=\"alert alert-warning\" role=\"alert\">\n                    �r�n bulunamad�!\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"container my-5\">\n            <div className=\"row\">\n                <div className=\"col-md-6\">\n                    <img\n                        src={`http://localhost:5000${selectedProduct.imageUrl}`}\n                        className=\"img-fluid rounded\"\n                        alt={selectedProduct.name}\n                        onError={(e) => {\n                            e.target.onerror = null;\n                            e.target.src = 'https://via.placeholder.com/600x400?text=�r�n+Resmi';\n                        }}\n                    />\n                </div>\n                <div className=\"col-md-6\">\n                    <h1>{selectedProduct.name}</h1>\n                    <p className=\"text-muted\">Kategori ID: {selectedProduct.categoryId}</p>\n                    <p className=\"fs-3 text-primary fw-bold\">{selectedProduct.price.toFixed(2)} TL</p>\n                    <p className=\"my-4\">{selectedProduct.description}</p>\n                    <p>\n                        <strong>Stok Durumu:</strong> {selectedProduct.stockQuantity > 0\n                            ? `${selectedProduct.stockQuantity} adet`\n                            : 'Stokta yok'}\n                    </p>\n\n                    {selectedProduct.stockQuantity > 0 && (\n                        <button className=\"btn btn-success btn-lg me-2\">\n                            Sepete Ekle\n                        </button>\n                    )}\n\n                    {isAdmin && (\n                        <>\n                            <button\n                                className=\"btn btn-warning me-2\"\n                                onClick={handleEdit}\n                            >\n                                D�zenle\n                            </button>\n                            <button\n                                className=\"btn btn-danger\"\n                                onClick={handleDelete}\n                            >\n                                Sil\n                            </button>\n                        </>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default ProductDetail;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}